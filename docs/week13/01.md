### 1-1 修改Properties文件的编码解决乱码问题

application.properties 文件默认不是 utf-8的

- IDEA 的首选项
    - Default encoding for properties files 选择 utf-8
    - 同时后面的勾选上 Transparent native-to-ascii conversion
    
> 如果你改完后还是 乱码

- 你就要把 application.properties 里中文内容重新写一遍
    - 可能是之前的编码，已经无法转换了
    
### 1-2 参数校验机制导学

> 参数校验非常重要

- 提高开发效率，节省时间成本和经济成本
- 对于保护web机密数据很有效

> 如果获取参数

- get 请求路径里的
- post 这种请求体里的

### 1-3 获取URL路径中的参数和查询参数

- http://localhost:8080/v1/banner/test/1
    - `@GetMapping("/test/{id}")` 里的 参数名称 id 必须和 方法里的参数名称一致才会对应上 否则报错

```
@RestController
@RequestMapping("/banner")
public class BannerController {
    @GetMapping("/test/{id}")
    public String test2(@PathVariable Integer id){
        return id + "";
    }
}
```

- 如果`@GetMapping("/test/{id}")` 里的跟 方法的名称不对应，你必须这样

```
@GetMapping("/test2/{id1}")
public String test2(@PathVariable(name="id1") Integer id){
    return id + "";
}
```

> 如何接受到 "?" 之后的查询参数

- http://localhost:8080/v1/banner/test3/12?name=aa

```
@GetMapping("/test3/{id}")
public String test3(@PathVariable Integer id, @RequestParam String name){
    return "id:" + id + ",name:" + name;
}
```


### 1-4 数据传输对象DTO的接收

> 获取 请求体 内容

- 请求路径 http://localhost:8080/v1/banner/test4/12?name=0
    - body里 选择  application/json
    ```
    {"name":"abc","age":18}
    ```
    - post方式

```
// 获取请求体内容
@PostMapping("/test4/{id}")
public String test4(@PathVariable Integer id,
                    @RequestParam String name,
                    @RequestBody Map<String,Object> person){
    // 一般不会用 因为是 Map 会有一个转型问题 处理非常麻烦
    // 在 java里 最好对应一个类 去映射 对应的 字段
    return "id:" + id + ",name:" + name;
}
```

> 正确姿势 

- 建立 dto目录
    - 建立 DTO后缀的参数类对应关系

```
public class PersonDTO {
    private String name;
    private Integer age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }
}
```

用 dto 参数类 代替 Map 解决转型问题

```
@PostMapping("/test5/{id}")
public String test5(@PathVariable Integer id,
                    @RequestParam String name,
                    @RequestBody PersonDTO person){
    System.out.println(person.getName() + "," + person.getAge());
    return "id:" + id + ",name:" + name;
}
```