### 1-1 JPA导学

关系型数据库的一种查询机制，可以用对象去查询，很多人说 JPA不如 MyBatis，实际非常好用。

JPA上手成本高一点。

### 1-2 Service业务逻辑层(服务层）的建立

BannerController.java

```
@RestController
@RequestMapping("/banner")
@Validated
public class BannerController {

    @Autowired
    private BannerService bannerService;

    @GetMapping("/name/{name}")
    public void getByName(@PathVariable @NotBlank String name){


    }
}
```

BannerService.java  service 层(业务层)

```
package com.lin.missyou.service;
import org.springframework.stereotype.Service;

@Service
public class BannerService {
    void getByName(String name){

    }
}
```

### 1-3 层与层之间是否一定要用interface建立关联

BannerService.java 接口

```
@Service
public interface BannerService {
    void getByName(String name);
}

```

BannerServiceImpl.java 具体的类

```
public class BannerServiceImpl implements BannerService {
    public void getByName(String name){

    }
}
```

BannerController.java 里引入的类 

- 不该是具体的实现，因为变化就会改代码
- 应该是 抽象，这样不管实现类怎么变，这里都不会变

```
public class BannerController {

    @Autowired
    private BannerService bannerService;
}
```

> 总结：

没特殊情况，推荐层与层之间 不需要 interface,除非你确定这一层 它会变动。那就确实应该是interface

> 每次变动都要改两个地方 接口和 impl ,那为什么规范要求用 interface？

- 我们写代码的时候，代码粒度不够小，如果不够小意味着每个类承担的职责过多
- OCP原则是 用替换代替修改，如果职责过多，替换难度很大

> 如果想要 接口 发挥作用

- 做好类与类的规划，不能承担过多职责
- interface不是像现在一样没意义，尤其在策略模式场景时，一定要用interface

