### 1-1 DozerBeanMapper拷贝属性

> vo 类 要添加 get/set

```
@Getter
@Setter
public class SpuSimplifyVO {
    @Id
    private Long id;
    private String title;
    private String subtitle;

    private String img;
    private String forThemeImg;
    private String price;
    private String discountPrice;

    private String description;
    private String tags;
    private Long sketchSpecId;
}

```

> 对一条数据进行 属性复制

```
public class SpuController {
    @Autowired
    private SpuService spuService;

    @GetMapping("/id/{id}/simplify")
    public SpuSimplifyVO getSimplifySpu(@PathVariable @Positive Long id){
        Spu spu = spuService.getSpu(id);
        SpuSimplifyVO vo = new SpuSimplifyVO();
        BeanUtils.copyProperties(spu,vo);
        return vo;
    }
    ...

}
```

> 如果是列表呢？

- dozermapper 工具使用

pom.xml里添加依赖

```
<dependency>
    <groupId>com.github.dozermapper</groupId>
    <artifactId>dozer-core</artifactId>
    <version>6.5.0</version>
</dependency>
```

SpuController.java

```
public class SpuController {
    @Autowired
    private SpuService spuService;

    @GetMapping("/latest")
    public List<SpuSimplifyVO> getLatestSpuList(){
        Mapper mapper = DozerBeanMapperBuilder.buildDefault();
        List<Spu> spuList = this.spuService.getLatestPagingSpu();
        List<SpuSimplifyVO> vos = new ArrayList<>();
        spuList.forEach(s->{
            // s 代表 Spu对象，
            // map接收 两个参数 model对象， 映射类的 class
            SpuSimplifyVO vo = mapper.map(s,SpuSimplifyVO.class);
            vos.add(vo);
        });
        return vos;
    }
}

```

### 1-2 PageRequest.Of方法进行分页参数构建

- http://localhost:8080/v1/spu/latest

> 添加分页功能

- SpuController.java 请求接受 参数，并设置默认值

```
public class SpuController {

    @GetMapping("/latest")
    public List<SpuSimplifyVO> getLatestSpuList(@RequestParam(defaultValue = "0") Integer start,
                                                @RequestParam(defaultValue = "10") Integer size){
       ...
    }
}
```

> JPA提供的 Pageable , PageRequest, Page

- SpuService.java
```
public class SpuService {
    public Page<Spu> getLatestPagingSpu(Integer pageNum, Integer size){
        // 构建一个 Pageable 对象
        Pageable page = PageRequest.of(pageNum, size, Sort.by("createTime").descending());

        return this.spuRepository.findAll(page);
    }
}
```

此时还没修改完。。。
